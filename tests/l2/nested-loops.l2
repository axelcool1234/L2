; RUN: %l2 %s | filecheck --check-prefix=CHECK-INTERPRET %s
; RUN: %l2 %s -c -r | filecheck --check-prefix=CHECK-COMPILE %s

i = 0
%while i < 3 {
    j = 0
    %while j < 2 {
        %println j
        j = j + 1
    }
    i = i + 1
}
%print i

; CHECK-INTERPRET: 0
; CHECK-INTERPRET-NEXT: 1
; CHECK-INTERPRET-NEXT: 0
; CHECK-INTERPRET-NEXT: 1
; CHECK-INTERPRET-NEXT: 0
; CHECK-INTERPRET-NEXT: 1
; CHECK-INTERPRET-NEXT: 3

; CHECK-COMPILE: 0
; CHECK-COMPILE-NEXT: 1
; CHECK-COMPILE-NEXT: 0
; CHECK-COMPILE-NEXT: 1
; CHECK-COMPILE-NEXT: 0
; CHECK-COMPILE-NEXT: 1
; CHECK-COMPILE-NEXT: 3

